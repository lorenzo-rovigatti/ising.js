<html>
  <head>
	<script src="ising.js"></script>
	<link rel="stylesheet" type="text/css" href="style.css">
    <link href='http://fonts.googleapis.com/css?family=Quattrocento' rel='stylesheet' type='text/css'>
	
	<title>Ferromagneti e paramagneti: il modello di Ising</title>
  </head>
  
  <body>
    <div id="title">
      <h1>Ferromagneti e paramagneti: il modello di Ising</h1>
    </div>
	      
    <div id='container'>
      <canvas id='canvas' height=512 width=512></canvas>

	  <p>Simulation of the Ising model.  You can choose between two update methods -
		metropolis and Wolff algorithm.  Several measurements are stored while running
		including the current energy and magnetization, their averages, and their
		variances.  The current value of each can be found at the top of the right
		panel.  A graph of one value versus time can be directly below that.  The
		particular variable can be changed via the 'Graph type' dropdown box.  These
		measurements can be reset at any time by pressing 'Reset data'.  The 'Reset'
		button restarts the simulation at infinite temperature (implies 'Reset
		data').</p>
	  
	  <p>The measurements as a time series as well as the graph and actual lattice
		can be downloaded via the buttons on the button.</p>
	  
	  <p>The other parameters can be set by the sliders or by clicking on the number
		to the right of the slider, typing in a number, and pressing enter.  They are:</p>
	  <ul>
		<li>Temperature - typical temperature, critical is around T_c = 2.26918531421</li>
		<li>Field - external magnetic field, H</li>
		<li>Sweep skip - the simulation can be graphics limited, this determines the
		  number of sweeps between drawing</li>
		<li>Lattice size - grid size on a side, height = width</li>
	  </ul>
	  
	  <p>Note: the graph can slow down the simulation at long times.  To speed up
		simulation, select 'none' for 'Graph type'.  Data is still being collected.</p>
	</div>
	
	<div id="data">
	  <h2>Risultati</h2>
	  
	  <pre class='code' id='label_time'>initializing</pre>
      <pre class='code' id='label_energy'>initializing</pre>
      <pre class='code' id='label_mag'>initializing</pre>
      <br>
      <div id='isinggraph'>
        <canvas id='canvas-graph' height=150 width=280></canvas>
      </div>

	  <div>
		<label class='eb_label' for='num'>Quantit√† graficata</label>
        <select id='changegraph' onchange='change_graph()'>
          <option value="none">none</option>
          <option value="energy" selected='selected'>e(t)</option>
          <option value="mag">m(t)</option>
        </select>
		<br/>
		<button id='resetdata' onclick='init_measurements()'>Reset</button>
        <button id='downloaddata' onclick='download_measurements()'>Scarica dati</button>
		<br/>
        <button id='downloadgraph' onclick='download_graph()'>Scarica grafico</button>
        <button id='downloadgraph' onclick='download_field()'>Scarica figura</button>
	  </div>
	</div>
	
    <div id='controllers'>
	  <h2>Controlli</h2>
	  
      <!-- ===================  add control panel items between here ============== -->
      <div id='panel'>
        <br>
        <div>
          <label class='eb_label' for="temp" title="Temperature">Temperatura</label>
          <input style='width:150px;' type="range" id="temp" min=-5 max=2 step=0.000001 value=0 oninput='update_temp()' onchange="update_temp()"></input>
          <span onclick='dotextbox(this.id)' class='eb_span' id="label_temp"></span>
          <input style='width: 80px; display: none;' id='label_temp_input' type='text' value='' onblur='undotextbox(this.id)'>
        </div>
        <div>
          <label class='eb_label' for="field" title="External field">Campo magnetico</label>
          <input style="width:150px;" type="range" id="field" min=-5 max=5 step=0.00001 value=0.0 oninput='update_field()' onchange="update_field()"></input>
          <span onclick='dotextbox(this.id)' class='eb_span' id="label_field"></span>
          <input style='width: 80px; display: none;' id='label_field_input' type='text' value='' onblur='undotextbox(this.id)'>
        </div>
        <div>
          <label class='eb_label' for="frames" title="Samples per redraw">Sweep skip</label>
          <input style="width:150px;" type="range" id="frames" min=-2 max=2 step=0.00001 value=0 oninput='update_frames()' onchange="update_frames()"></input>
          <span onclick='dotextbox(this.id)' class='eb_span' id="label_frames"></span>
          <input style='width: 80px; display: none;' id='label_frames_input' type='text' value='' onblur='undotextbox(this.id)'>
        </div>
        <div class="withspace">
          <label class='eb_label' for='method'>Dinamica:</label>
          <input type='radio' name='method' onclick='update_method()' checked=true id='method_metropolis' value='metropolis'>Metropolis</input>
          <input type='radio' name='method' onclick='update_method()' id='method_wolff' value='wolff'>Wolff</input>
        </div>
        <div class="withspace">
          <label class='eb_label' for='num'>Taglia del sistema</label>
          <select id='changenum' onchange='change_num()'>
            <option value="512">512</option>
            <option value="256" selected="selected">256</option>
            <option value="128">128</option>
            <option value="64">64</option>
            <option value="32">32</option>
            <option value="16">16</option>
          </select>
        </div>
        <div class="withspace">
          
        </div>
		
        <div>
          <center>
            <button id='dostep' onclick='update_step()'>Passo</button>
            <button id='pause' onclick='update_pause()'>Pausa</button>
            <button id='restart' onclick='update_restart()'>Reset</button>
          </center>
        </div>
      </div>
	  
      <!-- ==========================   and here ================================= -->
    </div>
	<div style="clear:both"></div>
	
  </body>
</html>
